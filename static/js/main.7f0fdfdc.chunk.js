(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1:function(e,t,a){e.exports={WeatherContent:"WeatherData__WeatherContent__9OaJ6",WeatherContent__header:"WeatherData__WeatherContent__header__1xj1A",WeatherContent__date:"WeatherData__WeatherContent__date__3Njos",WeatherContent__head:"WeatherData__WeatherContent__head__4p_YI",WeatherContent__icon:"WeatherData__WeatherContent__icon__3sSM7",WeatherContent__info:"WeatherData__WeatherContent__info__2renY",WeatherContent__temp:"WeatherData__WeatherContent__temp__2QVgl",WeatherContent__startText:"WeatherData__WeatherContent__startText__q1B_B"}},14:function(e,t,a){e.exports=a(27)},2:function(e,t,a){e.exports={loader:"Spinner__loader__3qv_p",loaderItem:"Spinner__loaderItem__ipI9A","loaderItem-1":"Spinner__loaderItem-1__Wb3kj","loaderItem-2":"Spinner__loaderItem-2__24dz-","loaderItem-3":"Spinner__loaderItem-3__2ZEdH","loaderItem-4":"Spinner__loaderItem-4__1Ryzy","loaderItem-5":"Spinner__loaderItem-5__2FLOj","loaderItem-6":"Spinner__loaderItem-6__2OZts","loaderItem-7":"Spinner__loaderItem-7__2ECAd","loaderItem-8":"Spinner__loaderItem-8__27iVZ","loaderItem-9":"Spinner__loaderItem-9__qr0iv","loaderItem-10":"Spinner__loaderItem-10___5o9z"}},20:function(e,t,a){},27:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(11),s=a.n(o),c=(a(20),a(4)),i=a(5),l=a(7),m=a(6),_=a(8),h=a(9),d=a.n(h),u=a(12),p=a(13),g=a(1),f=a.n(g),W=function(e){return e.data&&e.error?n.a.createElement("div",{className:f.a.WeatherContent},n.a.createElement("div",{className:f.a.WeatherContent__header},n.a.createElement("div",{className:f.a.WeatherContent__box},n.a.createElement("p",{className:f.a.WeatherContent__date},(new Date).toDateString()),n.a.createElement("h1",{className:f.a.WeatherContent__head},e.data.name)),n.a.createElement("div",{className:f.a.WeatherContent__box},n.a.createElement("p",{className:f.a.WeatherContent__sun},"Sunrise: ",n.a.createElement("b",null,new Date(1e3*e.data.sys.sunrise).toLocaleTimeString())),n.a.createElement("p",{className:f.a.WeatherContent__sun},"Sunset: ",n.a.createElement("b",null,new Date(1e3*e.data.sys.sunset).toLocaleTimeString())))),n.a.createElement("div",{className:f.a.WeatherContent__info},n.a.createElement("img",{src:"./images/"+e.data.weather[0].icon+".png",className:f.a.WeatherContent__icon,alt:e.data.weather[0].description}),n.a.createElement("div",null,n.a.createElement("p",{className:f.a.WeatherContent__temp},"Temp. ",n.a.createElement("span",null,e.data.main.temp," \xb0C")),n.a.createElement("p",null,e.data.weather[0].description)))):n.a.createElement("p",{className:f.a.WeatherContent__startText},"Complete the data to display...")},E=a(2),I=a.n(E),C=function(){return n.a.createElement("div",{className:I.a.loader},n.a.createElement("span",{className:I.a.loaderItem}),n.a.createElement("span",{className:I.a.loaderItem}),n.a.createElement("span",{className:I.a.loaderItem}),n.a.createElement("span",{className:I.a.loaderItem}),n.a.createElement("span",{className:I.a.loaderItem}),n.a.createElement("span",{className:I.a.loaderItem}),n.a.createElement("span",{className:I.a.loaderItem}),n.a.createElement("span",{className:I.a.loaderItem}),n.a.createElement("span",{className:I.a.loaderItem}))},v=a(3),N=a.n(v),w="64bd459b55ce780015ef29df99092a33",b=function(e){function t(){var e,a;Object(c.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(n)))).state={cityName:"",countryCode:"",weatherInfo:null,error:!1,errorMsg:"",latitude:"",longitude:"",locationError:"",bgImage:"",serverError:"",isLoading:!1},a.getWeatherData=function(e){e.preventDefault(),a.state.cityName&&a.state.countryCode?(a.setState({isLoading:!0}),fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(a.state.cityName,",").concat(a.state.countryCode,"&appid=").concat(w,"&units=metric")).then(function(e){return a.checkConnection(e)}).then(function(e){return a.serverErrorHandler(e)}).catch(function(e){return e}),a.getBgImage()):a.setState({error:!0})},a.getBgImage=function(){fetch("https://pixabay.com/api/?key=11033926-5ce039cd01c78ab8f1598fd4f&q=".concat(a.state.cityName,"&image_type=photo&per_page=3")).then(function(e){return e.json()}).then(function(e){return a.setState({bgImage:e.hits[1].largeImageURL})}).catch(function(e){return e})},a.getValue=function(e){a.setState(Object(p.a)({},e.target.name,e.target.value))},a.getLocationInfo=function(){a.setState({isLoading:!0}),fetch("https://api.openweathermap.org/data/2.5/weather?lat=".concat(a.state.latitude,"&lon=").concat(a.state.longitude,"&appid=").concat(w,"&units=metric")).then(function(e){return a.checkConnection(e)}).then(function(e){return a.serverErrorHandler(e)}).catch(function(e){return e})},a.checkConnection=function(e){if(200===e.status)return a.setState({serverError:!1}),e.json();a.setState({serverError:!0})},a.serverErrorHandler=function(e){return a.setState({isLoading:!1}),a.state.serverError?a.setState({errorMsg:"There is no information for this data...",weatherInfo:null}):a.setState({weatherInfo:e,error:!1,errorMsg:""})},a.loadPosition=Object(u.a)(d.a.mark(function e(){var t,r,n,o;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.getCurrentPosition();case 3:t=e.sent,r=t.coords,n=r.latitude,o=r.longitude,a.setState({latitude:n,longitude:o}),a.getLocationInfo(),a.setState({bgImage:""}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a.setState({errorMsg:e.t0.message,weatherInfo:null});case 13:case"end":return e.stop()}},e,this,[[0,10]])})),a.getCurrentPosition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(t,a){navigator.geolocation.getCurrentPosition(t,a,e)})},a}return Object(_.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e={backgroundImage:"url("+this.state.bgImage+")"};this.state.weatherInfo&&console.log(this.state.weatherInfo);var t="";this.state.error?t=n.a.createElement("p",{className:N.a.errorMsg},"Enter correct data!"):this.state.errorMsg?t=n.a.createElement("p",{className:N.a.errorMsg},this.state.errorMsg):this.state.locationError&&(t=n.a.createElement("p",{className:N.a.errorMsg},this.state.locationError));var a=null;return a=this.state.isLoading?n.a.createElement(C,null):n.a.createElement(W,{data:this.state.weatherInfo,error:!this.state.errorMsg}),n.a.createElement("div",{className:N.a.WeatherContainer},n.a.createElement("div",{className:N.a.WeatherBgImage,style:e}),n.a.createElement("div",{className:N.a.WeatherForm},n.a.createElement("form",{onSubmit:this.getWeatherData},n.a.createElement("input",{type:"text",name:"cityName",value:this.state.cityName,onChange:this.getValue,placeholder:"City..."}),n.a.createElement("input",{type:"text",name:"countryCode",value:this.state.countryCode,onChange:this.getValue,placeholder:"City Code..."}),n.a.createElement("button",{type:"submit"},"Get Weather")),n.a.createElement("span",{className:N.a.FormText},"or"),n.a.createElement("button",{onClick:this.loadPosition},"Get Your Position"),t),n.a.createElement("div",{className:N.a.WeatherBox},a))}}]),t}(r.Component),y=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(b,null))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},3:function(e,t,a){e.exports={WeatherContainer:"WeatherBuilder__WeatherContainer__3NF30",WeatherBgImage:"WeatherBuilder__WeatherBgImage__vPmXp",WeatherForm:"WeatherBuilder__WeatherForm__oMvFB",FormText:"WeatherBuilder__FormText__1u0Gr",WeatherBox:"WeatherBuilder__WeatherBox__3lwr0",errorMsg:"WeatherBuilder__errorMsg__3H6ml"}}},[[14,2,1]]]);
//# sourceMappingURL=main.7f0fdfdc.chunk.js.map